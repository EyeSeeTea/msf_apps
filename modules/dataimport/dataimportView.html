<h2>{{ 'DATA_IMPORT' | translate }}</h2>

<div class="row" ng-show="msjValidation!=1">
  	<div class="col-md-12">
		<d2-messages type="danger" textmessage="{{ 'VALIDATION_FILE' | translate }}"></d2-messages>
	</div>
</div>

<div class="row">
	<div class="col-md-6">
		<label for="file_search"> {{ 'SELECT_FILE' | translate }} </label>
		<input type="file" class="form-control" ng-file-select="onFileSelect($files)" name="file_search" required=""/>
	</div>
	<div ng-show="form.$submitted">
      <div ng-show="form.file_name.$error.required">{{ 'VALIDATION_FILE_NAME' | translate }}</div>
    </div>
</div>
  
	<br/>
<d2-progressBar></d2-progressBar>
<br/>
<div class="row">
	<div class="form_group">
		<button class="btn btn-primary"  ng-click='showImportDialog()'>{{ 'IMPORT' | translate }}</button>
		<button class="btn btn-primary"  ng-click='previewFiles()'>{{ 'PREVIEW' | translate }}</button>
	</div>
</div>
<br/>
<div id="summary" ng-show="summaryDisplayed">
	<h3>{{ 'IMPORT_SUMMARY' | translate }}</h3>
	
	<h4>{{ 'IMPORT_COUNT' | translate }}</h4>
	<div id="importCount"></div>
	
	<h4>{{ 'CONFLICTS' | translate }}</h4>
	<table id="typeSummary">
	    <thead>
	    <tr>
	        <td>{{ 'ELEMENT' | translate }}</td>
	        <td>{{ 'DESCRIPTION' | translate }}</td>
	    </tr>
	    </thead>
	    <tbody>
	      </tbody>
     </table>

</div>

<br/>

<div id="summary_analytics" ng-show="summaryDisplayed">
	<h3>{{ 'ANALYTICS_MESSAGGE' | translate }}</h3>
	
	<table data-toggle="table" id="notificationTable" class="notificationTable" style="">
		<col width="40%">
		<col>
		<tbody>
		
		</tbody>
	</table>
</div>

<d2-dataimportpreview ng-if="previewDataImport" import-file="dataFile" is-compress="isCompress"></d2-dataimportpreview>

<!-- Show datavalue history -->
<div class="modal" id="importConfirmation" role="dialog">
	<div class="modal-dialog">
    
	   	<div class="modal-content">
	   		<div class="modal-header">
				<h4 class="modal-title">{{ 'CONFIRM_IMPORT_TITLE' | translate }}</h4>
	    	</div>
	  		<div class="modal-body">
	  			{{ 'CONFIRM_IMPORT_BODY' | translate }}
	  		</div>
	  		<div class="modal-footer">
	  			<button type="button" class="btn btn-primary" ng-click="sendFiles()">{{ 'IMPORT' | translate }}</button>
	  			<button type="button" class="btn btn-default" data-toggle="modal" data-target="#importConfirmation">{{ 'CLOSE' | translate }}</button>
	  		</div>
	  	</div>
  	</div>
</div>
